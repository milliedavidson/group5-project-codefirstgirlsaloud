<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chapter One</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    <header class="header-wrapper">
        <h1 class="website-name"> ChapterOne</h1>
        <nav class="nav">
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
        </nav>
    </header>

    <section class="welcome-wrapper">
    <h4 class="title"> Welcome to ChapterOne </h4>
    <!-- TODO: change placeholder text -->
    <p class="message">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>



    <div class="container">
        <h4> Select from the filters below to generate your personalised reading list:</h4>

        <form action="/" method="POST">

            <div class="genre-menu">
                <label for="genre">Category:</label>
                <div class="genre-select">
                    <select id="genre" onchange="updateCategories()">
                         <option value="0">I am interested in reading...</option>
                         <option value="fiction">Fiction</option>
                         <option value="non-fiction">Non-Fiction</option>
                    </select><br>
                </div>
            </div>

            <div class="category">
                <label for="category">Genre:</label>
                <div class="category-select">
                    <select id="category" name="categories">
                     <!--                Categories will be dynamically generated based on genre using JS script at bottom of html body-->
                    </select><br>
                </div>
            </div>

            <div class="length">
                <label for="book_length"> Length:</label>
                <div class="length-buttons">
                    <input type="radio" name="book_length" value="short">Short<br>
                    <input type="radio" name="book_length" value="medium">Medium<br>
                    <input type="radio" name="book_length" value="long">Long<br>
                </div>
            </div>

            <div class="year">
                <label for="publication_year"> Publication Year: </label>
                <div class="year-slider">
                    <input type="range" name="year_published_min" min="1953" max="2023" step="1"><br>
                    <input type="range" name="year_published_max" min="1953" max="2023" step="1"><br>
                </div>
            </div>

            <div class="order-by">
                <select id="order_by" name="order_by">
                    <option value="0">Order by...</option>
                    <option value="relevance">Relevance</option>
                    <option value="newest">Newest</option>
                    </select><br>
            </div>

            <div class="submit-button">
                <input type="submit" class="button"value="Find books">
            </div>
        <input type="hidden" id="selected_genre" name="selected_genre" value="">
        </form>
    </div>
    </section>


<script>
        function updateCategories() {
            var genreSelect = document.getElementById("genre");
            var categorySelect = document.getElementById("category");
            var selectedGenre = genreSelect.value;

            document.getElementById("selected_genre").value = selectedGenre;

            categorySelect.innerHTML = "";

            if (selectedGenre === "fiction") {
                var categories = [
                "Classics",
                "Crime",
                "Dystopian",
                "Fantasy",
                "Graphic Novels",
                "Historical",
                "Horror",
                "LGBTQ+",
                "Literary",
                "Mystery & Detective",
                "Romance",
                "Science Fiction",
                "Thriller"
                ];
            } else if (selectedGenre === "non-fiction") {
                var categories = [
                "Business",
                "Cooking",
                "Crafts",
                "Gardening",
                "Music",
                "Nature",
                "Philosophy",
                "Politics",
                "Religion",
                "Travel",
                "True Crime"
                ];
            }

            for (var i = 0; i < categories.length; i++) {
                var option = document.createElement("option");
                option.value = categories[i];
                option.text = categories[i];
                categorySelect.appendChild(option);
            }
        }

        // Initialize the categories based on the default genre selection
        updateCategories();

</script>
</body>
</html>